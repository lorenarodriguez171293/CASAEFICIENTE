<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè° Simulador de Casa T√©rmicamente Eficiente</title>
    <style>
        /* Estilos CSS B√ÅSICOS */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .input-group, .component-group {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        select, button {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 4px;
            border: 1px solid #ddd;
            box-sizing: border-box;
        }
        button {
            background-color: #3498db;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        #results {
            margin-top: 30px;
            padding: 20px;
            border: 2px solid #27ae60;
            background-color: #e8f8f5;
            border-radius: 5px;
        }
        #results h2 {
            color: #27ae60;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üè° Simulador de Dise√±o T√©rmico</h1>

        <div class="input-group">
            <label for="location">üåé Selecciona la Ubicaci√≥n o Clima:</label>
            <select id="location">
                <option value="frio">Clima Fr√≠o (Ej. Canad√°, Siberia) - Media: -5¬∞C</option>
                <option value="templado">Clima Templado (Ej. Centro de Europa, Patagonia) - Media: 15¬∞C</option>
                <option value="caluroso">Clima Caluroso (Ej. Mediterr√°neo, M√©xico Central) - Media: 25¬∞C</option>
                <option value="extremo_calor">Clima de Calor Extremo (Ej. Desiertos, Tr√≥pico) - Media: 35¬∞C</option>
            </select>
        </div>

        <div class="component-group">
            <h2>üß± Selecciona los Componentes de tu Casa</h2>

            <label for="wallMaterial">Paredes (Aislamiento y Masa T√©rmica):</label>
            <select id="wallMaterial">
                <option value="ladrillo_hueco">Ladrillo Hueco (Baja masa, poco aislamiento)</option>
                <option value="hormigon">Hormig√≥n (Alta masa, poco aislamiento)</option>
                <option value="aislado_lana">Paredes Aisladas con Lana Mineral (Alto aislamiento)</option>
                <option value="paja_adobe">Paja o Adobe (Buena masa y aislamiento natural)</option>
            </select>

            <label for="windowType">Ventanas (Vidrio y Marco):</label>
            <select id="windowType">
                <option value="simple">Vidrio Simple (Mala eficiencia)</option>
                <option value="doble">Doble Vidrio (Buena eficiencia)</option>
                <option value="triple_ruptura">Triple Vidrio con Ruptura de Puente T√©rmico (M√°xima eficiencia)</option>
            </select>

            <label for="roofDesign">Techo (Dise√±o y Material):</label>
            <select id="roofDesign">
                <option value="plana_sin_aislar">Plana sin aislar</option>
                <option value="verde">Techo Verde (Excelente aislante y refrigerante)</option>
                <option value="cubierta_aislada">Cubierta con buen aislamiento y ventilaci√≥n</option>
            </select>
        </div>

        <button onclick="calculateEfficiency()">‚ú® Evaluar Eficiencia</button>

        <div id="results">
            <h2>üìä Resultados y Recomendaciones</h2>
            <p id="efficiencyScore">Puntaje de Eficiencia T√©rmica: --</p>
            <p id="recommendationText">Selecciona una ubicaci√≥n y componentes para comenzar la simulaci√≥n.</p>
        </div>
    </div>

    <script>
        // Valores de "eficiencia" de cada componente
        const componentScores = {
            wallMaterial: {
                ladrillo_hueco: 1,
                hormigon: 2,
                aislado_lana: 4,
                paja_adobe: 3
            },
            windowType: {
                simple: 1,
                doble: 3,
                triple_ruptura: 5
            },
            roofDesign: {
                plana_sin_aislar: 1,
                verde: 5,
                cubierta_aislada: 4
            }
        };

        // PESO de los componentes en la eficiencia total (se suman para el puntaje)
        const componentWeights = {
            wallMaterial: 0.4, // 40%
            windowType: 0.3,   // 30%
            roofDesign: 0.3    // 30%
        };

        function calculateEfficiency() {
            const location = document.getElementById('location').value;
            const wallMaterial = document.getElementById('wallMaterial').value;
            const windowType = document.getElementById('windowType').value;
            const roofDesign = document.getElementById('roofDesign').value;

            // 1. CALCULAR EL PUNTAJE DE EFICIENCIA
            let totalScore = 0;
            totalScore += componentScores.wallMaterial[wallMaterial] * componentWeights.wallMaterial;
            totalScore += componentScores.windowType[windowType] * componentWeights.windowType;
            totalScore += componentScores.roofDesign[roofDesign] * componentWeights.roofDesign;

            // 2. GENERAR RECOMENDACIONES BASADAS EN EL CLIMA
            let recommendation = "";
            let requiredScore = 0;

            if (location === 'frio') {
                requiredScore = 4.5; // Necesita un puntaje alto para el fr√≠o
                recommendation = "‚ùÑÔ∏è **Clima Fr√≠o:** La prioridad es el **Aislamiento** y evitar puentes t√©rmicos. Se recomienda alto aislamiento en paredes, techos y ventanas de triple vidrio. La masa t√©rmica es secundaria.";
            } else if (location === 'templado') {
                requiredScore = 3.5;
                recommendation = "üå§Ô∏è **Clima Templado:** Se busca un equilibrio. Un buen aislamiento es vital, pero la masa t√©rmica (ej. paredes de hormig√≥n/adobe) ayuda a regular la temperatura entre el d√≠a y la noche.";
            } else if (location === 'caluroso') {
                requiredScore = 3.8;
                recommendation = "‚òÄÔ∏è **Clima Caluroso:** Se busca **evitar la ganancia solar** y favorecer la ventilaci√≥n cruzada. Materiales con buena masa t√©rmica (ladrillo, hormig√≥n) en paredes pueden ayudar a mantener fresco el interior durante el d√≠a. Un techo verde es ideal.";
            } else if (location === 'extremo_calor') {
                requiredScore = 4.8; // Necesita un puntaje muy alto
                recommendation = "üî• **Clima de Calor Extremo:** La prioridad es la **reflexi√≥n solar**, la **ventilaci√≥n** y la **masa t√©rmica**. Techos claros y techos verdes son cruciales, junto con excelente aislamiento y ventanas peque√±as de alta eficiencia.";
            }

            // 3. EVALUAR SI EL DISE√ëO ES ADECUADO
            let status = "";
            let difference = totalScore - requiredScore;

            if (difference >= 0) {
                status = `**¬°FELICIDADES!** ‚úÖ Tu dise√±o de casa es **T√©rmicamente Sostenible** para este clima, con un exceso de eficiencia de ${difference.toFixed(2)} puntos.`;
            } else if (difference > -1.5) {
                status = `**MEJORABLE.** ‚ö†Ô∏è Tu dise√±o tiene un peque√±o d√©ficit de eficiencia de ${Math.abs(difference).toFixed(2)} puntos. Considera mejorar un componente, como cambiar el aislamiento o las ventanas.`;
            } else {
                status = `**INSUFICIENTE.** ‚ùå Tu dise√±o tiene un d√©ficit grande. Es **T√©rmicamente Ineficiente** para este clima. Se producir√° mucha p√©rdida/ganancia de calor. Debes mejorar varios componentes clave.`;
            }


            // 4. MOSTRAR RESULTADOS
            document.getElementById('efficiencyScore').innerHTML = `**Puntaje de Eficiencia T√©rmica: ${totalScore.toFixed(2)}** (Requerido: ${requiredScore.toFixed(2)})`;
            document.getElementById('recommendationText').innerHTML = `
                ${status}<br><br>
                **Recomendaci√≥n Espec√≠fica para el Clima:**<br>
                ${recommendation}
            `;
            
            // Sugerencia para diagrama (no se renderizar√° aqu√≠, pero es un ejemplo de c√≥mo se usar√≠a la funcionalidad de la IA)
            // 
        }
    </script>

</body>
</html>
